{
    "version": "https://jsonfeed.org/version/1",
    "title": "PyQt • All posts by \"异常\" tag",
    "description": "Python PyQt PyQt6 PyQt5 PyQt4 PySide PySide2 PySide6",
    "home_page_url": "https://pyqt5.com",
    "items": [
        {
            "id": "https://pyqt5.com/cgitb.html",
            "url": "https://pyqt5.com/cgitb.html",
            "title": "异常捕获之cgitb模块",
            "date_published": "2018-09-17T15:17:06.000Z",
            "content_html": "<p><code>cgitb</code>  模块为 <code>Python</code>  脚本提供了一个特殊的异常管理器。名字有点误导人，它最初设计是为了以 HTML 格式展示 cgi 脚本的大量异常信息。后来，他扩展为也可以展示纯文本信息。该模块激活后，如果发生了未捕获的异常，将会展示格式化的输出报告。该报告包括源代码每一层的回溯，以及当前执行程序的参数和局部变量。以及，你可以选择将这些信息存到一个文件里，而不是发送到浏览器。</p>\n<span id=\"more\"></span>\n<h2 id=\"用途\"><a class=\"markdownIt-Anchor\" href=\"#用途\">#</a> 用途</h2>\n<p>当编辑器中无法显示错误信息时，尤其是 <code>PyQt</code> ，可以尝试在 cmd 中运行代码，或者使用此模块来得到错误信息。</p>\n<h2 id=\"介绍\"><a class=\"markdownIt-Anchor\" href=\"#介绍\">#</a> 介绍</h2>\n<h3 id=\"cgitbenable\"><a class=\"markdownIt-Anchor\" href=\"#cgitbenable\">#</a> cgitb.enable</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cgitb<span class=\"token punctuation\">.</span>enable<span class=\"token punctuation\">(</span>display<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> logdir<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> context<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">format</span><span class=\"token operator\">=</span><span class=\"token string\">\"html\"</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>参数说明</p>\n<ol>\n<li>display 1，发送至浏览器；0， 不发送</li>\n<li>logdir 如果有的话，写到该目录下</li>\n<li>context 显示错误代码周围的代码行数</li>\n<li>format 是否显示为 HTML，除了’html’之外的所有值，都会显示为纯文本</li>\n</ol>\n<h3 id=\"cgitbhandle\"><a class=\"markdownIt-Anchor\" href=\"#cgitbhandle\">#</a> cgitb.handle</h3>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">cgitb<span class=\"token punctuation\">.</span>handle<span class=\"token punctuation\">(</span>info<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>参数说明</p>\n<ol>\n<li>如果你想用 cgitb 处理异常，你可以调用这个函数。</li>\n<li>info 应当是含有异常类型、异常值和 traceback 对象的三元组</li>\n<li>如同 sys.exc_info () 返回的那样。如果不提供 info，则从 sys.exc_info 中获取。</li>\n</ol>\n<h2 id=\"如何使用\"><a class=\"markdownIt-Anchor\" href=\"#如何使用\">#</a> 如何使用</h2>\n<p>以下代码放在最开始执行</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> cgitb\n<span class=\"token keyword\">import</span> sys\nsys<span class=\"token punctuation\">.</span>excepthook <span class=\"token operator\">=</span> cgitb<span class=\"token punctuation\">.</span>Hook<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">,</span> <span class=\"token string\">'text'</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n",
            "tags": [
                "Python",
                "异常"
            ]
        }
    ]
}